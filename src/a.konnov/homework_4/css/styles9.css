body {
    counter-reset: p;
  }
p::after {
    counter-increment: p;
    content: ' # ' counter(p);
}
p:hover {
    background-color:green;
}
p:hover ~ p {
    background-color: red;
}
p:hover ~ p:last-child {
    background: none;
}